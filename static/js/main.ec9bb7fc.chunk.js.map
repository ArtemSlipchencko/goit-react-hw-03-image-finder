{"version":3,"sources":["components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","components/App/App.jsx","index.js"],"names":["Searchbar","state","value","page","setQuery","event","preventDefault","props","onSubmit","handleChange","target","setState","className","this","type","placeholder","onChange","Component","ImageGalleryItem","obj","setObj","el","openModal","pictures","map","onClick","src","webformatURL","alt","id","ImageGallery","Button","Load","color","height","width","timeout","Modal","window","removeEventListener","onClose","addEventListener","App","loading","error","query","isOpen","componentDidUpdate","prevProps","prevState","getFetch","axios","get","then","res","data","hits","catch","finally","scroll","toScroll","document","documentElement","scrollHeight","scrollTo","top","behavior","largeImageURL","key","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.ec9bb7fc.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Searchbar extends Component {\n\n  state = {\n    value: \"\",\n    page: 1\n  };\n\n  setQuery = (event) => {\n\n    event.preventDefault();\n    this.props.onSubmit(this.state.value, this.state.page);\n\n  };\n\n  handleChange = ({target}) => {\n\n    this.setState({value: target.value});\n\n  };\n\n  render () {\n    return (<header className=\"Searchbar\">\n      <form className=\"SearchForm\" onSubmit={this.setQuery}>\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          className=\"SearchForm-input\"\n          type=\"text\"\n          placeholder=\"Search images and photos\"\n          onChange={this.handleChange}\n          value={this.state.value}\n        />\n      </form>\n    </header>);\n  };\n};\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n//import { Test } from './ImageGalleryItem.styles';\n\nclass ImageGalleryItem extends Component { \n\n  state = {\n    obj: {}\n  };\n\n  setObj = (el) => {\n    this.setState({obj: el});\n    this.props.openModal(el);\n  }\n\n  render () {\n    \n    const {pictures} = this.props;\n\n    return (\n      pictures.map(el => \n      <li key={el.id} className=\"ImageGalleryItem\" onClick={() => {this.setObj(el)}}>\n        <img src={el.webformatURL} alt=\"\" className=\"ImageGalleryItem-image\" />\n      </li>)\n    )\n  }\n}\n\nImageGalleryItem.propTypes = {\n  picture: PropTypes.object.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\nclass ImageGallery extends Component { \n\n  render () {\n\n    const {pictures, openModal} = this.props;\n\n    return (\n      <ul className=\"ImageGallery\">\n        <ImageGalleryItem openModal={this.props.openModal} pictures={pictures} />\n      </ul>\n    )\n  };\n};\n\nImageGallery.propTypes = {\n  pictures: PropTypes.array.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Button = ({onClick}) => {\n\n  return (\n    <button type=\"button\" onClick={onClick} className=\"Button\">Load more...</button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;","import React from 'react';\nimport Loader from \"react-loader-spinner\";\nimport './Loader.css';\n\nconst Load = function() {\n\n  return (\n    <Loader\n      className=\"Loader\"\n      type=\"Puff\"\n      color=\"#00BFFF\"\n      height={100}\n      width={100}\n      timeout={3000} //3 secs\n    />\n  );\n\n}\n\nexport default Load;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Modal extends Component { \n\n  componentWillUnmount() {\n    window.removeEventListener(\"click\", this.props.onClose);\n  };\n\n  render () {\n\n    window.addEventListener('keydown', this.props.onClose);\n\n    return (\n      <div onClick={this.props.onClick} className=\"Overlay\">\n        <div className=\"Modal\">\n          <img src={this.props.target} alt=\"\" />\n        </div>\n      </div>\n    )\n  };\n};\n\nModal.propTypes = {\n  target: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport Searchbar from '../Searchbar/Searchbar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Button from '../Button/Button';\nimport Load from '../Loader/Loader';\nimport Modal from '../Modal/Modal';\nimport axios from 'axios';\nimport './App.css';\n\nclass App extends Component { \n\nstate = {\n  pictures: [],\n  loading: false,\n  error: null,\n  query: '',\n  page: 1,\n  target: '',\n  isOpen: false,\n};\n\ncomponentDidUpdate = (prevProps, prevState) => {\n\n  const prevQuery = prevState.query;\n  const nextQuery = this.state.query;\n\n  if(prevQuery !== nextQuery) {\n    this.getFetch();\n  }\n\n};\n  \nonSubmit = (query, page) => {\n\n  this.setState({query: query, page: 1, pictures: []});\n\n};\n\ngetFetch = () => {\n\n  const {query, page} = this.state;\n  this.setState({loading: true});\n\n  axios.get(`https://pixabay.com/api/?key=18951897-f7110a11ebc58b866f93acf70&q=${query}&image_type=photo&page=${page}&orientation=horizontal&per_page=12`)\n    .then(res => {\n      this.setState(prevState => ({pictures: [...prevState.pictures, ...res.data.hits], page: prevState.page + 1}))\n    })\n    .catch(error => this.setState({ error }))\n    .finally(() => this.setState({ loading: false })\n  );\n};\n\nscroll = () => {\n\n  const toScroll = document.documentElement.scrollHeight\n  this.getFetch();\n  window.scrollTo({\n    top: toScroll,\n    behavior: 'smooth'\n  });\n\n};\n\nopenModal = (el) => {\n\n  this.setState({isOpen: true, target: el.largeImageURL});\n\n};\n\nonClick = () => {\n  this.setState({isOpen: false, target: \"\"});\n}\n\nonClose = ({key}) => {\n  if (key === \"Escape\") {\n    this.onClick();\n  }\n};\n\nrender () {\n    return (\n      <>\n      <Searchbar onSubmit={this.onSubmit} />\n      <ImageGallery openModal={this.openModal} pictures={this.state.pictures} />\n      {this.state.loading && <Load />}\n      {this.state.pictures.length > 0 && !this.state.loading && <Button onClick={this.scroll}/>}\n      {this.state.isOpen && <Modal onClick={this.onClick} onClose={this.onClose} target={this.state.target} />}\n      </>\n    )\n  };\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}